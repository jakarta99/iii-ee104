<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>Jumbotron Template for Bootstrap</title>

<!-- Bootstrap core CSS -->
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" -->
<!-- 	integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" -->
<!-- 	crossorigin="anonymous"></script> -->
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"
	integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
	crossorigin="anonymous"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"
	integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
	crossorigin="anonymous"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
	integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
	crossorigin="anonymous">
<script defer
	src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

<!-- Custom styles for this template -->

</head>

<body>

	<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
		<a class="navbar-brand" href="#">Navbar</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarsExampleDefault"
			aria-controls="navbarsExampleDefault" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarsExampleDefault">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active"><a class="nav-link" href="/">Home
						<span class="sr-only">(current)</span>
				</a></li>
				<li class="nav-item"><a class="nav-link" href="#">Link</a></li>
				<li class="nav-item"><a class="nav-link disabled" href="#">Disabled</a>
				</li>
				<li class="nav-item dropdown"><a
					class="nav-link dropdown-toggle" href="http://example.com"
					id="dropdown01" data-toggle="dropdown" aria-haspopup="true"
					aria-expanded="false">TIMEBANK BackStage</a>
					<div class="dropdown-menu" aria-labelledby="dropdown01">
						<a class="dropdown-item" href="/member/list" id="backStage-member">member</a> 
						<a	class="dropdown-item" href="/order/list" id="backStage-order">order</a> 
						<a	class="dropdown-item" href="/donation/list" id="backStage-donation">donation</a>
						<a	class="dropdown-item" href="/request/list" id="backStage-request">request</a>
						<a	class="dropdown-item" href="/request/div" id="backStage-test">request2</a>
						<a	class="dropdown-item" href="/time-ledger/list" id="backStage-timeledger">time-ledger</a>
						<a	class="dropdown-item" href="/penalty/list" id="backStage-penalty">penalty</a>
					</div></li>
			</ul>
			<form class="form-inline my-2 my-lg-0">
				<input class="form-control mr-sm-2" type="text" placeholder="Search"
					aria-label="Search">
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			</form>
		</div>
	</nav>

	<article>
		<div class="jumbotron">
			<div class="container">
				<h1 class="display-3">Hello, world!</h1>
				<p>This is a template for a simple marketing or informational
					website. It includes a large callout called a jumbotron and three
					supporting pieces of content. Use it as a starting point to create
					something more unique.</p>
				<p>
					<a class="btn btn-primary btn-lg" href="#" role="button">Learn
						more &raquo;</a>
				</p>
			</div>
		</div>

		<div class="container">
			<!-- Example row of columns -->
			<div class="row">
				<div class="col-md-4">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce
						dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh,
						ut fermentum massa justo sit amet risus. Etiam porta sem malesuada
						magna mollis euismod. Donec sed odio dui.</p>
					<p>
						<a class="btn btn-secondary" href="#" role="button">View
							details &raquo;</a>
					</p>
				</div>
				<div class="col-md-8">
					<h2>Heading</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce
						dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh,
						ut fermentum massa justo sit amet risus. Etiam porta sem malesuada
						magna mollis euismod. Donec sed odio dui.</p>
					<p>
						<a class="btn btn-secondary" href="#" role="button">View
							details &raquo;</a>
					</p>
				</div>
				<div class="col-md-4">
					<h2>Heading</h2>
					<p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in,
						egestas eget quam. Vestibulum id ligula porta felis euismod semper.
						Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum
						nibh, ut fermentum massa justo sit amet risus.</p>
					<p>
						<a class="btn btn-secondary" href="#" role="button">View
							details &raquo;</a>
					</p>
				</div>
				<div class="col-md-4">
					<h2>aaaaa</h2>
					<p>Donec id elit non mi porta gravida at eget metus. Fusce
						dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh,
						ut fermentum massa justo sit amet risus. Etiam porta sem malesuada
						magna mollis euismod. Donec sed odio dui.</p>
					<p>
						<a class="btn btn-secondary" href="#" role="button">View
							details &raquo;</a>
					</p>
				</div>
			</div>
			<hr>
		</div>
	</article>

	<footer class="container">
		<p>&copy; Company 2017-2018</p>
	</footer>

	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<script>
		$(document).ready(function(){
// 			$("#backStage-order").click(function(event){
// 				event.preventDefault(); //event.preventDefault():關掉<a>的href屬性的預設行為(預設跳頁到指定位置。未設指定位置則預設為""，會不斷跳轉回首頁)

// 										//其他關掉href預設行為的方法:href="#"  or   href="javascript:void(0)"
// 				toBackStage("/order/list");
// 			});
			
// 			$("#backStage-member").click(function(event){
// 				event.preventDefault(); 
// 				toBackStage("/member/list");
// 			});
			
			$("#backStage-request").click(function(event){
				event.preventDefault();
				toBackStage("/request/list");
			});
			
			$("#backStage-test").click(function(event){
				event.preventDefault();
				toBackStage("/request/div");
			});
			//by jasmine
			//有套bootstrap樣式的頁面(donation、timeledger、penalty、request)，透過nav連結進入後，無法再透過nav下拉選單連到其他人的頁面
			//Sol:只要把CDN的版本從jquery-3.2.1.slim.min.js中的"slim"刪掉即可
			//slim版本:  $.ajax is not a function
			//https://blog.wawajohn.net/594.html   >>>slim 版本（精簡版），不包含「ajax」以及「effects」，這兩個模組。
			//bootstrap要小心看js版本!!!!
			
			
			//by sheila
			//在這邊用ajax挑轉，url不會改變(重新整理時會在index.html頁面)
			
			//by jasmine
			//或者試試看把<nav>與<footer>寫成js，讓每個網頁引用(至少比整串HTML短)?
			
// 			$("#backStage-donation").click(function(event){
// 				event.preventDefault(); 
// 				toBackStage("/donation/list");
// 			});
			
			$("#backStage-timeledger").click(function(event){
				event.preventDefault(); 
				toBackStage("/time-ledger/list");
			});
			
// 			$("#backStage-penalty").click(function(event){
// 				event.preventDefault(); 
// 				toBackStage("/penalty/list");
// 			});
			
		})

		function toBackStage(backStageUrl){
			$.ajax({
				url:backStageUrl,
				type:'post',
				dataType:'html',
				success:function(response){
					$('article').html("<br><br><br>" + response); //加換行符號>>>>>跳頁後標題不要被nav bar擋住(有其他解法嗎.......)
				}
			})
		}
	
	
	</script>
	
	
</body>
</html>

